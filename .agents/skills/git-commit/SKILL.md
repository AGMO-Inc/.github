---
name: git-commit
description: 모든 에이전트가 공통으로 사용하는 커밋 실행 스킬이다. 변경사항 점검, 전체 테스트 실행, 이슈 번호 포함 한국어 커밋 메시지 작성, 비대화형 커밋 실행을 수행한다. "커밋해줘", "커밋 메시지 써줘", "커밋 전에 테스트 돌려줘", "현재 변경으로 feat/fix/chore 커밋 만들어줘"처럼 커밋 생성 또는 커밋 직전 검증이 필요한 요청에서 사용한다. 이슈 번호/제목 확인이 필요하면 GitHub MCP로 조회한다.
---

# Git Commit Workflow

이 스킬로 커밋을 수행한다.

## 1. 현재 작업 범위 확인

1. `TODO-Issue.md`를 읽어 현재 이슈 번호와 실행 과제를 확인한다.
2. `TODO-Issue.md`의 이슈 정보가 누락되었거나 최신 여부가 불명확하면 GitHub MCP로 이슈를 조회해 확인한다.
3. `git status --short`로 변경 파일을 확인한다.
4. `git diff`와 `git diff --staged`로 커밋에 포함될 내용을 검토한다.

## 2. 커밋 전 검증

1. 프로젝트 정책에 따라 전체 테스트를 실행한다.
2. 테스트 실패 시 원인을 요약하고 커밋을 중단한다.
3. 사용자가 테스트 생략을 명시한 경우에만 생략 사실을 기록한다.

## 3. 스테이징

1. 커밋 대상 파일만 `git add <path>`로 스테이징한다.
2. 범위가 명확할 때만 `git add .`를 사용한다.
3. `git status --short`로 스테이징 결과를 재확인한다.

## 4. 커밋 메시지 작성

다음 형식을 강제한다.

```text
<type>: <한글 제목> #<이슈번호>

[AGENT-META] AI created
- 변경사항 1
- 변경사항 2
```

규칙:

- `type`은 `feat`, `fix`, `chore` 중 하나를 선택한다.
- 제목/본문은 한국어로 작성한다.
- AI가 작성한 커밋 메시지는 본문 첫 줄에 반드시 `[AGENT-META] AI created`를 포함한다.
- 본문은 실제 반영된 변경만 bullet로 작성한다.

## 5. 커밋 실행

1. 비대화형으로 커밋한다.
2. 성공 시 커밋 해시와 제목을 공유한다.
3. 마지막에 PR 생성 여부를 질문한다.

예시:

```bash
git commit -m "feat: 회원 플랜 연장 API 추가 #404" -m "[AGENT-META] AI created
- UserService에 연장 로직 추가
- UserController API 및 테스트 추가"
```

## 6. 안전 규칙

1. 사용자가 요청하지 않은 파일은 커밋에 포함하지 않는다.
2. 대화형 git 명령(`git commit` 단독, `git add -p`)보다 비대화형 명령을 우선한다.
3. 기존에 존재하던 사용자 변경사항은 되돌리지 않는다.
